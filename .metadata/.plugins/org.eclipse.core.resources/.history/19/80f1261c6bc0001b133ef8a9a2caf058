package failedCaseTest;

import java.io.File;
import java.util.logging.FileHandler;

import org.testng.Reporter;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.Test;

public class A23_FailedCaseOnlyScreenshotTest {

	String path="/Users/e11/Documents/online/workspace/batch166/TestngTest/screenshot/";
	WebDriver wd;
	@Test(priority = 1)
	public void loginTest() {
		 wd=new ChromeDriver();
		wd.manage().window().maximize();
		wd.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);
		String path="/Users/e11/Documents/online/workspace/batch166/TestngTest/screenshot/";
		WebDriver wd;
		@Test(priority = 1)
		public void loginTest() {
			 wd=new ChromeDriver();
			wd.manage().window().maximize();
			wd.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);
	wd.get("http://djangovinoth.pythonanywhere.com/login/");
			WebElement username =wd.findElement(By.name("username"));
			username.sendKeys("user1");
			WebElement password =wd.findElement(By.name("passwordkkjjhgg"));
			password.sendKeys("Guru@12345");
			password.submit();
		}

		@AfterMethod
		public void tearDown(ITestResult result) throws IOException {
			
			if(!result.isSuccess()) {
			
			File src=((TakesScreenshot)wd).getScreenshotAs(OutputType.FILE);
			FileHandler.copy(src, new File(path+"screenshot.jpeg"));
			} else {
				System.out.println("Your test is passed, so we didnt take screenshot");
			}

		}
}
